{% extends 'base.html.twig' %}

{% block title %}

{% endblock %}

{% block body %}


<div class="row my-3">
    <div class="col-12 text-center">
        <h1>Les Actualités Culottées</h1>
        {# Affichage du nombre total d'évènements #}
        <p>Nombre total d'évènements : {{ events.getTotalItemCount }}</p>
    </div>
</div>

<div class="row">
    <div class="">
        <p class="text-end my-3 me-3">
            {# Création d'un lien permettant de trier par description #}
            <span class="mx-2">{{ knp_pagination_sortable(events, 'Trier par titre', 'a.eventDescription') }}</span>
            {# Création d'un lien permettant de trier par date #}
            <span class="mx-2">{{ knp_pagination_sortable(events, 'Trier par Date', 'a.eventDate') }}</span>
        </p>
    </div>
</div>
{# Blocs de mise en forme des actualités #}
<div class="container-fluid">
    <div class="row">
        {# Pour chaque évènement, on affiche dans l'ordre chronologique uniquement ceux dont la date est à venir. Ceux dont la date est passée ne sont pas affichés #}
        {% for event in events %}
            {% if event.eventDate >= date("now") %}
                <div class="agenda-entry d-flex justify-content-start align-items-center mb-4 col-12 col-md-10">
                    <p class="m-0 ps-4">
                        <i class="fa-solid fa-calendar mx-5 ps-4"></i>
                        {# todo: Essayer de trouver un logo de calendrier un peu plus joli #}
                        <span class="text-decoration-underline me-2">{{ event.eventDate|format_datetime('full', 'none', locale='fr' )}}</span> {{
                        event.eventDescription }}
                    </p>
                </div>
            {% endif %}
        {% endfor %}

        <div class="row">
            <div class="my-3 text-center">
                <div class="d-inline-block">
                    {# Affichage du menu permettant de naviguer entre les différentes pages #}
                    {{ knp_pagination_render(events) }}
                </div>
            </div>
        </div>
</div>
{% endblock %}

